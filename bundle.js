(()=>{"use strict";var e={208:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(354),a=t.n(r),o=t(314),i=t.n(o),s=t(417),l=t.n(s),c=new URL(t(973),t.b),A=i()(a()),d=l()(c);A.push([e.id,`:root {\n    --text: #080505;\n    --bg: white;\n    --primary: #6AC6DE;\n    --primary-highlight: rgb(104, 222, 255); \n    --secondary: #8FE6B2;\n    --accent: #D43B40;\n}\n\n@font-face {\n    font-family: Patua;\n    src: url(${d});\n}\n\nbody {\n    margin: 0px;\n    font-family: Patua;\n    background-color: var(--bg);\n    color: var(--text);\n}\n\nbutton {\n    font-family: Patua;\n    color: var(--text);\n}\n\nheader h1 {\n    text-align: center;\n    margin-top: 50px;\n    margin-bottom: 50px;\n    font-size: 70px;\n    text-shadow: 2px 5px 5px rgb(188, 188, 188);\n    letter-spacing: 5px;\n}\n\n.button-container {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n}\n\n.body-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10%;\n}\n\n.game-board {\n    --size: 30vh;\n\n    border: solid 1px black;\n    height: var(--size);\n    width: var(--size);\n    display: flex;\n    flex-direction: column;\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n}\n\nform, \nform input {\n    font-size: 30px;\n}\n\nform input {\n    line-height: 50px;\n}\n\nform button {\n    margin-top: 50px;\n}\n\n.setup-container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    gap: 20px;\n}\n\n.pieces-div {\n    display: flex;\n    gap: 20px;\n    align-items: center;\n    width: 50vw;\n    height: 20vh;\n}\n\n.placeable-pieces-container {   \n    width: 60%;\n    gap: 20px;\n    display: flex;\n    flex-direction: column;\n}\n\n.row {\n    flex: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n}\n\n.piece {\n    border: 1px solid black;\n    display: flex;\n    height: 3vh;\n}\n\n.piece-vertical {   \n    flex-direction: column;\n}\n\n.game-button {\n    padding: 10px;\n    font-size: 30px;\n    border-radius: 15px;\n    background-color: white;\n    border: 2px solid black;\n    box-shadow: 0px 5px black;\n    transition: transform 50ms ease-in-out;\n}\n\n.menu-button:hover {\n    background-color: var(--primary-highlight);\n    transform: translate(0px, -2px);\n}\n\n.game-button:active {\n    transform: translate(0px, 5px);\n    box-shadow: none;\n}\n\n.confirm-btn {\n    background-color: var(--primary-highlight);\n}\n\n.reset-btn {\n    color: white;\n    background-color: var(--accent);\n}\n\n.rotate-button {\n    box-shadow: 0px 5px black;\n    background-color: white;\n    transition: transform 50ms ease-in-out;\n}\n\n.game-button-container {\n    display: flex;\n    gap: 50px;\n}\n\n.grid-row {\n    width: 100%;\n    height: 10%;\n    display: flex;\n}\n\n.player-tile,\n.enemy-tile {\n    border: 1px solid black;\n    width: 100%;\n    height: 100%;\n}\n\n.selected {\n    background-color: rgba(130, 255, 164, 0.72);\n    border: 1px solid rgb(130, 255, 164);\n}\n\n.invalid-selected { \n    background-color: rgba(255, 130, 130, 0.72);\n    border: 1px solid rgb(255, 130, 130);\n}\n\n.dragging {\n    opacity: 0.3;\n    background-color: rgba(0, 0, 0, 0.5);\n}\n\n.hoverable-tile:hover {\n    border: 1px solid red;\n    background-color: rgba(216, 0, 0, 0.3);\n}\n\n.hit-tile {\n    border: 1px solid rgb(0, 0, 0);\n    background-color: rgb(226, 0, 0)\n}\n\n.miss-tile {\n    border: 1px solid rgb(0, 0, 0);\n    background-color: rgba(0, 0, 0, 0.7);\n}\n\n.ship-tile {\n    background-color: rgba(4, 63, 238, 0.7);\n    border: 1px solid rgb(2, 41, 158);\n}\n\n.btn-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 200px;\n\n    button {\n        border-radius: 10px;\n        background-color: rgb(252, 243, 228);\n        color: black;\n        font-size: 20px;\n        padding: 10px;\n    }\n}\n\n.error {\n    color: red;\n    font-size: 30px;\n}\n\ndialog {\n    position: absolute;\n    gap: 20px;\n    padding: 30px 50px;\n    border-radius: 10px;\n    width: 20vw;\n\n    div {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 100%;\n\n        p {\n            font-size: 30px;\n        }\n\n        div {\n            display: flex;\n            gap: 20px;\n            \n            button {\n                display: inline;\n                padding: 5px 10px;\n                border-radius: 10px;\n            }\n        }\n\n        \n    }\n}\n\ndialog::backdrop {\n    background-color: rgba(0, 0, 0, 0.549);\n}\n`,"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,eAAe;IACf,WAAW;IACX,kBAAkB;IAClB,uCAAuC;IACvC,oBAAoB;IACpB,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;IAClB,4CAAsC;AAC1C;;AAEA;IACI,WAAW;IACX,kBAAkB;IAClB,2BAA2B;IAC3B,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,gBAAgB;IAChB,mBAAmB;IACnB,eAAe;IACf,2CAA2C;IAC3C,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,SAAS;AACb;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,QAAQ;AACZ;;AAEA;IACI,YAAY;;IAEZ,uBAAuB;IACvB,mBAAmB;IACnB,kBAAkB;IAClB,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,SAAS;AACb;;AAEA;;IAEI,eAAe;AACnB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,sBAAsB;IACtB,mBAAmB;IACnB,WAAW;IACX,SAAS;AACb;;AAEA;IACI,aAAa;IACb,SAAS;IACT,mBAAmB;IACnB,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,UAAU;IACV,SAAS;IACT,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,UAAU;IACV,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,SAAS;AACb;;AAEA;IACI,uBAAuB;IACvB,aAAa;IACb,WAAW;AACf;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,aAAa;IACb,eAAe;IACf,mBAAmB;IACnB,uBAAuB;IACvB,uBAAuB;IACvB,yBAAyB;IACzB,sCAAsC;AAC1C;;AAEA;IACI,0CAA0C;IAC1C,+BAA+B;AACnC;;AAEA;IACI,8BAA8B;IAC9B,gBAAgB;AACpB;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,YAAY;IACZ,+BAA+B;AACnC;;AAEA;IACI,yBAAyB;IACzB,uBAAuB;IACvB,sCAAsC;AAC1C;;AAEA;IACI,aAAa;IACb,SAAS;AACb;;AAEA;IACI,WAAW;IACX,WAAW;IACX,aAAa;AACjB;;AAEA;;IAEI,uBAAuB;IACvB,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,2CAA2C;IAC3C,oCAAoC;AACxC;;AAEA;IACI,2CAA2C;IAC3C,oCAAoC;AACxC;;AAEA;IACI,YAAY;IACZ,oCAAoC;AACxC;;AAEA;IACI,qBAAqB;IACrB,sCAAsC;AAC1C;;AAEA;IACI,8BAA8B;IAC9B;AACJ;;AAEA;IACI,8BAA8B;IAC9B,oCAAoC;AACxC;;AAEA;IACI,uCAAuC;IACvC,iCAAiC;AACrC;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,aAAa;;IAEb;QACI,mBAAmB;QACnB,oCAAoC;QACpC,YAAY;QACZ,eAAe;QACf,aAAa;IACjB;AACJ;;AAEA;IACI,UAAU;IACV,eAAe;AACnB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,kBAAkB;IAClB,mBAAmB;IACnB,WAAW;;IAEX;QACI,aAAa;QACb,sBAAsB;QACtB,mBAAmB;QACnB,WAAW;;QAEX;YACI,eAAe;QACnB;;QAEA;YACI,aAAa;YACb,SAAS;;YAET;gBACI,eAAe;gBACf,iBAAiB;gBACjB,mBAAmB;YACvB;QACJ;;;IAGJ;AACJ;;AAEA;IACI,sCAAsC;AAC1C",sourcesContent:[":root {\n    --text: #080505;\n    --bg: white;\n    --primary: #6AC6DE;\n    --primary-highlight: rgb(104, 222, 255); \n    --secondary: #8FE6B2;\n    --accent: #D43B40;\n}\n\n@font-face {\n    font-family: Patua;\n    src: url(./fonts/PatuaOne-Regular.ttf);\n}\n\nbody {\n    margin: 0px;\n    font-family: Patua;\n    background-color: var(--bg);\n    color: var(--text);\n}\n\nbutton {\n    font-family: Patua;\n    color: var(--text);\n}\n\nheader h1 {\n    text-align: center;\n    margin-top: 50px;\n    margin-bottom: 50px;\n    font-size: 70px;\n    text-shadow: 2px 5px 5px rgb(188, 188, 188);\n    letter-spacing: 5px;\n}\n\n.button-container {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n}\n\n.body-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10%;\n}\n\n.game-board {\n    --size: 30vh;\n\n    border: solid 1px black;\n    height: var(--size);\n    width: var(--size);\n    display: flex;\n    flex-direction: column;\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n}\n\nform, \nform input {\n    font-size: 30px;\n}\n\nform input {\n    line-height: 50px;\n}\n\nform button {\n    margin-top: 50px;\n}\n\n.setup-container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    gap: 20px;\n}\n\n.pieces-div {\n    display: flex;\n    gap: 20px;\n    align-items: center;\n    width: 50vw;\n    height: 20vh;\n}\n\n.placeable-pieces-container {   \n    width: 60%;\n    gap: 20px;\n    display: flex;\n    flex-direction: column;\n}\n\n.row {\n    flex: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n}\n\n.piece {\n    border: 1px solid black;\n    display: flex;\n    height: 3vh;\n}\n\n.piece-vertical {   \n    flex-direction: column;\n}\n\n.game-button {\n    padding: 10px;\n    font-size: 30px;\n    border-radius: 15px;\n    background-color: white;\n    border: 2px solid black;\n    box-shadow: 0px 5px black;\n    transition: transform 50ms ease-in-out;\n}\n\n.menu-button:hover {\n    background-color: var(--primary-highlight);\n    transform: translate(0px, -2px);\n}\n\n.game-button:active {\n    transform: translate(0px, 5px);\n    box-shadow: none;\n}\n\n.confirm-btn {\n    background-color: var(--primary-highlight);\n}\n\n.reset-btn {\n    color: white;\n    background-color: var(--accent);\n}\n\n.rotate-button {\n    box-shadow: 0px 5px black;\n    background-color: white;\n    transition: transform 50ms ease-in-out;\n}\n\n.game-button-container {\n    display: flex;\n    gap: 50px;\n}\n\n.grid-row {\n    width: 100%;\n    height: 10%;\n    display: flex;\n}\n\n.player-tile,\n.enemy-tile {\n    border: 1px solid black;\n    width: 100%;\n    height: 100%;\n}\n\n.selected {\n    background-color: rgba(130, 255, 164, 0.72);\n    border: 1px solid rgb(130, 255, 164);\n}\n\n.invalid-selected { \n    background-color: rgba(255, 130, 130, 0.72);\n    border: 1px solid rgb(255, 130, 130);\n}\n\n.dragging {\n    opacity: 0.3;\n    background-color: rgba(0, 0, 0, 0.5);\n}\n\n.hoverable-tile:hover {\n    border: 1px solid red;\n    background-color: rgba(216, 0, 0, 0.3);\n}\n\n.hit-tile {\n    border: 1px solid rgb(0, 0, 0);\n    background-color: rgb(226, 0, 0)\n}\n\n.miss-tile {\n    border: 1px solid rgb(0, 0, 0);\n    background-color: rgba(0, 0, 0, 0.7);\n}\n\n.ship-tile {\n    background-color: rgba(4, 63, 238, 0.7);\n    border: 1px solid rgb(2, 41, 158);\n}\n\n.btn-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 200px;\n\n    button {\n        border-radius: 10px;\n        background-color: rgb(252, 243, 228);\n        color: black;\n        font-size: 20px;\n        padding: 10px;\n    }\n}\n\n.error {\n    color: red;\n    font-size: 30px;\n}\n\ndialog {\n    position: absolute;\n    gap: 20px;\n    padding: 30px 50px;\n    border-radius: 10px;\n    width: 20vw;\n\n    div {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 100%;\n\n        p {\n            font-size: 30px;\n        }\n\n        div {\n            display: flex;\n            gap: 20px;\n            \n            button {\n                display: inline;\n                padding: 5px 10px;\n                border-radius: 10px;\n            }\n        }\n\n        \n    }\n}\n\ndialog::backdrop {\n    background-color: rgba(0, 0, 0, 0.549);\n}\n"],sourceRoot:""}]);const p=A},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var A=[].concat(e[c]);r&&i[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),a&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=a):A[4]="".concat(a)),n.push(A))}},n}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],A=o[c]||0,d="".concat(c," ").concat(A);o[c]=A+1;var p=t(d),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(u);else{var m=a(u,r);r.byIndex=s,n.splice(s,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=t(o[i]);n[s].references--}for(var l=r(e,a),c=0;c<o.length;c++){var A=t(o[c]);0===n[A].references&&(n[A].updater(),n.splice(A,1))}o=l}}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},973:(e,n,t)=>{e.exports=t.p+"a9f01afefe6f58c9aeb2.ttf"}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var e=t(72),n=t.n(e),r=t(825),a=t.n(r),o=t(659),i=t.n(o),s=t(56),l=t.n(s),c=t(540),A=t.n(c),d=t(113),p=t.n(d),u=t(208),m={};m.styleTagTransform=p(),m.setAttributes=l(),m.insert=i().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=A(),n()(u.A,m),u.A&&u.A.locals&&u.A.locals;class h{constructor(e){this.length=e,this.hits=0,this.sunk=!1}reset(){this.hits=0}hit(){return this.hits+=1,this.isSunk()}isSunk(){return this.hits===this.length&&(this.sunk=!0,!0)}}class b{constructor(){this.board=Array.apply(null,Array(10)).map((()=>Array(10).fill("e"))),this.shipPlacements={},this.ships=[]}placeShip(e,n,t,r){const a=[];for(let o=0;o<e;o++)"down"===n?a.push([t,r+o]):a.push([t+o,r]);for(let n=0;n<e;n++){if(a[n][0]<0||a[n][0]>10||a[n][1]<0||a[n][1]>10)return!1;if(Object.hasOwn(this.shipPlacements,a[n]))return!1}const o=new h(e);return a.forEach((e=>{this.shipPlacements[e]=o,this.board[e[1]][e[0]]="s"})),this.ships.push(o),!0}reset(){this.board=Array.apply(null,Array(10)).map((()=>Array(10).fill("e"))),this.ships=[],this.shipPlacements={}}removeShips(){this.ships=[]}receiveAttack(e,n){if(e<0||e>10||n<0||n>10)return!1;const t=[e,n];return Object.hasOwn(this.shipPlacements,t)?(this.shipPlacements[t].hit(),this.board[n][e]="x",!0):(this.board[n][e]="o",!1)}allSunk(){for(let e=0;e<this.ships.length;e++)if(!1===this.ships[e].sunk)return!1;return!0}}class g{constructor(e){this.name=e,this._gameBoard=new b}get gameBoard(){return this._gameBoard}receiveAttack(e,n){return this._gameBoard.receiveAttack(e,n)}isAlive(){return this._gameBoard.allSunk()}}class C extends g{constructor(){super("Computer"),this.moves=[]}getMove(){let e=this.chooseRandomCoord();for(;this.alreadyMadeMove(e);)e=this.chooseRandomCoord();return this.moves.push(e),e}alreadyMadeMove(e){for(let n=0;n<this.moves.length;n++)if(JSON.stringify(this.moves[n])===JSON.stringify(e))return!0;return!1}chooseRandomCoord(){return[this.getRandomInt(),this.getRandomInt()]}getRandomInt(){return Math.floor(10*Math.random())}}const f=new class{constructor(){this.player1=null,this.player2=null,this.vsComputer=!1,this.subscribers=[],this.initialise()}addSub(e){this.subscribers.push(e)}updateSubs(){this.subscribers.forEach((e=>{e.update()}))}attackPlayer(e,n){(1===this.turn?this.player2.receiveAttack(e,n):this.player1.receiveAttack(e,n))?(1===this.turn?this.player2.isAlive():this.player1.isAlive())?(this.winner=1===this.turn?this.player1.name:this.player2.name,this.over=!0,this.updateSubs()):this.vsComputer&&2===this.turn&&this.computerTurn():this.vsComputer&&1===this.turn?(this.changeTurn(),this.computerTurn()):this.changeTurn()}changeTurn(){this.turn=1===this.turn?2:1}computerTurn(){const e=this.player2.getMove();this.attackPlayer(e[0],e[1])}get isGameOver(){return this.over}placeShip(e,n,t,r){1===this.turn?this.player1.gameBoard.placeShip(e,n,t,r):2!==this.turn||this.vsComputer||this.player2.gameBoard.placeShip(e,n,t,r)}setupPlayers(e,n){this.player1=new g(e),this.player2=null===n?new C:new g(n),this.player2 instanceof C&&(this.vsComputer=!0,this.computerSetup())}computerSetup(){[1,1,1,1,2,2,2,3,3,4].forEach((e=>{let n=!1;for(;!n;){const t=["down","left"][Math.floor(Math.random())],r=Math.floor(9*Math.random()),a=Math.floor(9*Math.random());n=this.player2.gameBoard.placeShip(e,t,r,a)}}))}reset(){this.player1.gameBoard.reset(),this.player2.gameBoard.reset(),this.initialise(),this.computerSetup()}initialise(){this.winner=null,this.turn=1,this.over=!1}},y=()=>{const{turn:e}=f,{board:n}=1===e?f.player1.gameBoard:f.player2.gameBoard,t=1===e?document.querySelector(".player1-board"):document.querySelector(".player2-board");t.innerHTML="",n.forEach((e=>{const n=document.createElement("div");n.className="grid-row",e.forEach((e=>{const t=document.createElement("div");t.classList.add("player-tile"),"s"===e?t.classList.add("ship-tile"):"x"===e?t.classList.add("hit-tile"):"o"===e&&t.classList.add("miss-tile"),n.appendChild(t)})),t.appendChild(n)}))},v=()=>{const e=document.createElement("div"),n=document.createElement("h1");n.textContent=f.player1.name,e.appendChild(n);const t=document.createElement("div");t.classList.add("player1-board","game-board"),e.appendChild(t);const r=document.createElement("div"),a=document.createElement("h1");f.player2 instanceof C?a.textContent="Computer":a.textContent=f.player2.name,r.appendChild(a);const o=document.createElement("div");o.classList.add("player2-board","game-board"),r.appendChild(o);const i=document.querySelector(".body-content");i.innerHTML="",i.appendChild(e),i.appendChild(r),y(),(()=>{const{turn:e}=f,{board:n}=1===e?f.player2.gameBoard:f.player1.gameBoard,t=1===e?document.querySelector(".player2-board"):document.querySelector(".player1-board");t.innerHTML="";let r=0;n.forEach((e=>{const n=document.createElement("div");n.className="grid-row";let a=0;e.forEach((e=>{const t=document.createElement("div");t.classList.add("enemy-tile","hoverable-tile");const o=`${a}-${r}`;t.setAttribute("value",o),"x"===e?t.classList.add("hit-tile"):"o"===e&&t.classList.add("miss-tile"),n.appendChild(t),a+=1})),r+=1,t.appendChild(n)}))})(),(()=>{const e=1===f.turn?document.querySelector(".player2-board"):document.querySelector(".player1-board");Array.from(e.children).forEach((e=>{Array.from(e.children).forEach((e=>{const[n,t]=e.getAttribute("value").split("-");e.addEventListener("click",(()=>{f.attackPlayer(n,t);const r=1===f.turn?f.player2.gameBoard.board[t][n]:f.player1.gameBoard.board[t][n];"x"===r?e.classList.add("hit-tile"):"o"===r&&e.classList.add("miss-tile"),f.vsComputer&&y(),e.classList.remove("hoverable-tile")}),{once:!0})}))}))})()};let x,B="horizontal",I=!0,E=1;const k=()=>{const e=document.querySelector(".game-board");e.innerHTML="";const{board:n}=1===E?f.player1.gameBoard:f.player2.gameBoard;for(let t=0;t<n.length;t+=1){const r=document.createElement("div");r.className="grid-row";for(let e=0;e<n.length;e+=1){const a=document.createElement("div");"s"===n[t][e]?a.className="selected":(a.setAttribute("value",`${e}${t}`),a.addEventListener("dragover",(e=>{e.preventDefault(),w(a,!0)})),a.addEventListener("dragleave",(e=>{e.preventDefault(),w(a,!1)})),a.addEventListener("drop",(()=>{if(I){let[e,n]=a.getAttribute("value").split("");e=Number(e),n=Number(n),"horizontal"===B?f.placeShip(x,"right",e,n):f.placeShip(x,"down",e,n)}k()}))),a.classList.add("player-tile"),r.appendChild(a)}e.appendChild(r)}},w=(e,n)=>{const t=[e],[r,a]=e.getAttribute("value").split("");I=!0;for(let e=0;e<x;e+=1){const n="horizontal"===B?Number(r)+e:Number(r),o="vertical"===B?Number(a)+e:Number(a),i=document.querySelector(`div[value="${n}${o}"]`);if(null===i){I=!1;break}t.push(i)}const o=I?"selected":"invalid-selected";n?t.forEach((e=>e.classList.add(o))):t.forEach((e=>e.classList.remove(o)))},S=e=>{const n=document.querySelector(".game-board").getBoundingClientRect();return e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom},L=()=>{const e=1===E?f.player1:f.player2,n=document.querySelector(".body-content");n.innerHTML="";const t=document.createElement("div");t.className="setup-container";const r=document.createElement("h1");r.textContent=`Setup ${e.name}'s board`,t.appendChild(r);const a=document.createElement("div");a.className="game-board",t.appendChild(a);const o=document.createElement("div");o.className="pieces-div";const i=(()=>{const e=document.createElement("div");e.className="placeable-pieces-container";for(let n=4;n>=1;n-=1){const t=document.createElement("div");t.className="row";for(let e=4;e>=n;e-=1){const e=document.createElement("div");e.setAttribute("value",n),e.setAttribute("draggable",!0),e.setAttribute("data-placed",!1),e.className="piece";for(let t=n;t>0;t-=1){const n=document.createElement("div");n.className="player-tile",n.style.width="3vh",e.appendChild(n)}e.addEventListener("dragstart",(t=>{x=n,e.classList.add("dragging");const r=document.createElement("span");r.setAttribute("style","display: none"),t.dataTransfer.setDragImage(r,0,0)})),e.addEventListener("dragend",(n=>{S(n)&&I?(e.setAttribute("draggable",!1),e.setAttribute("data-placed",!0)):e.classList.remove("dragging")})),t.appendChild(e)}e.appendChild(t)}return e})();o.appendChild(i);const s=(()=>{const e=document.createElement("button");return e.innerHTML="Rotate",e.classList.add("rotate-button","game-button"),e.addEventListener("click",(()=>{B="horizontal"===B?"vertical":"horizontal",document.querySelectorAll(".piece").forEach((e=>{if("horizontal"===B)e.classList.remove("piece-vertical"),e.setAttribute("style","flex-direction: row"),[...document.querySelectorAll(".row")].forEach((e=>{e.setAttribute("style","flex-direction: row")})),document.querySelector(".placeable-pieces-container").setAttribute("style","flex-direction: column");else{e.classList.add("piece-vertical");const n=3*e.getAttribute("value")+"vh";e.setAttribute("style",`height: ${n}`),[...document.querySelectorAll(".row")].forEach((e=>{e.setAttribute("style","flex-direction: column")})),document.querySelector(".placeable-pieces-container").setAttribute("style","flex-direction: row")}}))})),e})();o.appendChild(s),t.appendChild(o);const l=(()=>{const e=document.createElement("div");e.className="game-button-container";const n=document.createElement("button");n.classList.add("game-button","confirm-btn"),n.textContent="Confirm",n.addEventListener("click",(()=>{(()=>{const e=[...document.querySelectorAll(".piece")],n=e.length;for(let t=0;t<n;t+=1)if("false"===e[t].dataset.placed)return document.querySelector(".error").textContent="All pieces must be used",!1;return!0})()&&(f.vsComputer||1!==E?v():(E=2,L()))}));const t=document.createElement("button");return t.textContent="Reset",t.classList.add("game-button","reset-btn"),t.addEventListener("click",(()=>{1===E?f.player1.gameBoard.reset():f.player2.gameBoard.reset(),k(),[...document.querySelectorAll(".piece")].forEach((e=>{e.classList.remove("dragging")}))})),e.appendChild(n),e.appendChild(t),e})();t.appendChild(l);const c=(()=>{const e=document.createElement("div");e.className="error-container";const n=document.createElement("p");return n.className="error",e.appendChild(n),e})();t.appendChild(c),n.appendChild(t),k()},q=()=>{B="horizontal",I=!0,E=1,L()},N=()=>{document.querySelector(".body-content").innerHTML='\n        <form action="">\n            <label for="player1Name">Player Name</label>\n            <input type="text" name="player1Name" id="player1Name" required>\n            <button class="menu-button game-button" type="submit">Play</button>\n        </form>\n    ',document.querySelector("form button").addEventListener("click",(()=>{document.querySelector("#player1Name").value&&(()=>{const e=document.querySelector("form input[name='player1Name']"),n=document.querySelector("form input[name='player2Name']"),t=e.value,r=null===n?null:n.value;f.setupPlayers(t,r),q()})()}))},M=()=>{document.querySelector(".body-content").innerHTML='\n    <div class="button-container">\n        <button class="menu-button game-button" type="button" value="1-player">Play</button>\n    </div>\n    ',document.querySelector("button[value='1-player']").addEventListener("click",N)},T=()=>{document.querySelector(".reset-btn").addEventListener("click",(()=>{document.querySelector("dialog").close(),M()}))},z=()=>{T(),document.querySelector(".play-again-btn").addEventListener("click",(()=>{document.querySelector("dialog").close(),f.reset(),q()}));const e=document.querySelector("dialog");document.querySelector("dialog div h1").innerHTML=`${f.winner} wins`,e.showModal()},P={showGameOver:z,setupResetBtn:T,update:()=>{z()}};M(),f.addSub(P)})()})();
//# sourceMappingURL=bundle.js.map